{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Italic;\f1\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red255\green255\blue255;\red10\green10\blue10;\red207\green214\blue228;
\red115\green207\blue184;\red205\green204\blue213;\red218\green124\blue212;}
{\*\expandedcolortbl;;\cssrgb\c100000\c100000\c100000;\cssrgb\c3922\c3922\c3922;\cssrgb\c84706\c87059\c91373;
\cssrgb\c51373\c83922\c77255;\cssrgb\c83922\c83922\c86667;\cssrgb\c89020\c58039\c86275;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\i\fs24 \cf2 \cb3 \expnd0\expndtw0\kerning0
[\
  \{\
    "table_name": "subjects",\
    "column_name": "parent_id",\
    "foreign_table_name": "subjects",\
    "foreign_column_name": "id"\
  \},\
  \{\
    "table_name": "cards",\
    "column_name": "subject_id",\
    "foreign_table_name": "subjects",\
    "foreign_column_name": "id"\
  \},\
  \{\
    "table_name": "user_card_progress",\
    "column_name": "card_id",\
    "foreign_table_name": "cards",\
    "foreign_column_name": "id"\
  \},\
  \{\
    "table_name": "review_history",\
    "column_name": "card_id",\
    "foreign_table_name": "cards",\
    "foreign_column_name": "id"\
  \}\
]-- Get foreign key constraints
\f1\i0 \cf4 \cb1 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3 SELECT\cf4 \cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3     tc.table_name, \cb1 \
\cb3     kcu.column_name, \cb1 \
\cb3     ccu.table_name \cf5 AS\cf4  foreign_table_name,\cb1 \
\cb3     ccu.column_name \cf5 AS\cf4  foreign_column_name \cb1 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3 FROM\cf4  \cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3     information_schema.table_constraints \cf5 AS\cf4  tc \cb1 \
\cb3     \cf5 JOIN\cf4  information_schema.key_column_usage \cf5 AS\cf4  kcu\cb1 \
\cb3         \cf5 ON\cf4  tc.constraint_name \cf6 =\cf4  kcu.constraint_name\cb1 \
\cb3         \cf5 AND\cf4  tc.table_schema \cf6 =\cf4  kcu.table_schema\cb1 \
\cb3     \cf5 JOIN\cf4  information_schema.constraint_column_usage \cf5 AS\cf4  ccu\cb1 \
\cb3         \cf5 ON\cf4  ccu.constraint_name \cf6 =\cf4  tc.constraint_name\cb1 \
\cb3         \cf5 AND\cf4  ccu.table_schema \cf6 =\cf4  tc.table_schema\cb1 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3 WHERE\cf4  \cb1 \
\pard\pardeftab720\partightenfactor0
\cf4 \cb3     tc.constraint_type \cf6 =\cf4  \cf7 'FOREIGN KEY'\cf4  \cb1 \
\cb3     \cf5 AND\cf4  tc.table_schema \cf6 =\cf4  \cf7 'public'\cf4 ;\cb1 \
\
}