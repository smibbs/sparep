<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamburger Menu Test</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h2 {
            margin-top: 0;
            color: #333;
        }
        .viewport-test {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .viewport-indicator {
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 4px;
            font-weight: bold;
        }
        .instructions {
            background-color: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .instructions h3 {
            margin-top: 0;
            color: #0066cc;
        }
    </style>
</head>
<body>
    <div class="instructions">
        <h3>Testing Instructions</h3>
        <p>This page tests the hamburger menu functionality at different viewport sizes:</p>
        <ul>
            <li><strong>Desktop (>768px):</strong> Navigation should be visible, hamburger hidden</li>
            <li><strong>Mobile (â‰¤768px):</strong> Hamburger visible, navigation hidden</li>
            <li><strong>Small Mobile (â‰¤480px):</strong> Smaller hamburger with optimized spacing</li>
        </ul>
        <p>Test the following:</p>
        <ul>
            <li>Click hamburger to open/close menu</li>
            <li>Press Escape to close menu</li>
            <li>Tab navigation within mobile menu</li>
            <li>Click backdrop to close menu</li>
            <li>Resize window to test responsive behavior</li>
            <li><strong>NEW:</strong> Test minimalist styling with neutral background</li>
            <li><strong>NEW:</strong> Test dynamic spacing and top-anchored layout</li>
            <li><strong>NEW:</strong> Test touch-friendly padding on mobile devices</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>Current Viewport Test</h2>
        <div class="viewport-test">
            <div class="viewport-indicator">
                <span id="viewport-size">Loading...</span>
            </div>
            <div class="viewport-indicator">
                <span id="hamburger-status">Loading...</span>
            </div>
            <div class="viewport-indicator">
                <span id="desktop-nav-status">Loading...</span>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>Header Navigation Test</h2>
        <p>The header navigation should appear at the top of the page with proper responsive behavior.</p>
        
        <!-- Test header nav like in the actual app -->
        <div class="header-nav">
            <nav class="navigation">
                <a href="#" class="nav-button">Dashboard</a>
                <a href="#" id="admin-nav-link" class="nav-button">Admin</a>
                <button id="logout-button" class="nav-button">Sign Out</button>
            </nav>
        </div>
    </div>

    <div class="test-section">
        <h2>Enhanced Menu Features</h2>
        <p><strong>âœ¨ New Minimalist Design:</strong></p>
        <ul>
            <li>Neutral light gray background (#f8f9fa)</li>
            <li>Clean white menu items with subtle borders</li>
            <li>Dynamic spacing that adapts to screen height</li>
            <li>Top-anchored layout for better organization</li>
        </ul>
        <p><strong>ðŸŽ¯ Touch-Friendly Improvements:</strong></p>
        <ul>
            <li>Increased padding (20px vertical, 24px horizontal)</li>
            <li>Minimum 48px touch targets</li>
            <li>Adequate spacing between items</li>
            <li>Subtle hover effects with light shadows</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>Content Area</h2>
        <p>This content area simulates the main app content. The mobile menu should overlay this content when open.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>

    <script type="module">
        import NavigationController from './js/navigation.js';
        
        // Initialize navigation controller
        const navigationController = new NavigationController();
        
        // Test viewport indicator
        function updateViewportIndicator() {
            const width = window.innerWidth;
            const viewportSize = document.getElementById('viewport-size');
            const hamburgerStatus = document.getElementById('hamburger-status');
            const desktopNavStatus = document.getElementById('desktop-nav-status');
            
            if (viewportSize) {
                viewportSize.textContent = `Window Width: ${width}px`;
            }
            
            if (hamburgerStatus) {
                const hamburgerVisible = width <= 768;
                hamburgerStatus.textContent = `Hamburger Menu: ${hamburgerVisible ? 'Visible' : 'Hidden'}`;
                hamburgerStatus.style.color = hamburgerVisible ? '#28a745' : '#dc3545';
            }
            
            if (desktopNavStatus) {
                const desktopVisible = width > 768;
                desktopNavStatus.textContent = `Desktop Navigation: ${desktopVisible ? 'Visible' : 'Hidden'}`;
                desktopNavStatus.style.color = desktopVisible ? '#28a745' : '#dc3545';
            }
        }
        
        // Update indicator on load and resize
        updateViewportIndicator();
        window.addEventListener('resize', updateViewportIndicator);
        
        // Test console logging
        console.log('Hamburger Menu Test Page Loaded');
        console.log('NavigationController:', navigationController);
        
        // Test admin link visibility (simulate admin user)
        setTimeout(() => {
            const adminLink = document.getElementById('admin-nav-link');
            if (adminLink) {
                adminLink.classList.remove('hidden');
                navigationController.updateAdminVisibility();
                console.log('Admin link visibility updated');
            }
        }, 1000);
    </script>
</body>
</html>